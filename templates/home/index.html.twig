{% extends 'base.html.twig' %}
{% block title %}Home{% endblock %}

{% block body %}
<section class="bg-white border rounded-xl p-8 shadow-sm">
  <h1 class="text-3xl font-bold tracking-tight">Welcome to Your Blog</h1>
  <p class="mt-2 text-gray-600">A clean Symfony + Twig + Tailwind starter with auth, CRUD, and slugs.</p>
  <div class="mt-6 flex gap-3">
    <a href="{{ path('app_post_new') }}" class="px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700">Write a post</a>
    <a href="{{ path('app_post_index') }}" class="px-4 py-2 rounded border border-gray-300 hover:bg-gray-100">Browse posts</a>
  </div>
</section>

<section class="mt-8">
  <h2 class="text-xl font-semibold mb-4">Latest Posts</h2>
  <div class="grid gap-4 md:grid-cols-2">
    {% for post in posts %}
      <article class="bg-white border rounded-xl p-5 shadow-sm">
        <h3 class="text-lg font-semibold">
          <a class="text-blue-700 hover:underline"
             href="{{ path('app_post_show_slug', { slug: post.slug }) }}">{{ post.title }}</a>
        </h3>
        <div class="text-sm text-gray-500 mt-1">
          {{ post.createdAt ? post.createdAt|date('Y-m-d H:i') : '' }}
          {% if post.author %} • by {{ post.author.email }}{% endif %}
        </div>
        <p class="mt-3 text-gray-800">
          {{ post.content|u.truncate(160, '…') }}
        </p>
      </article>
    {% else %}
      <p class="text-gray-600">No posts yet. Be the first to
        <a class="text-blue-700 hover:underline" href="{{ path('app_post_new') }}">write one</a>.
      </p>
    {% endfor %}
  </div>
</section>
{% endblock %}
